<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <style>
    .title { font-family: 'Segoe UI', sans-serif; font-size: 22px; font-weight: bold; fill: #d4d4d4; }
    .subtitle { font-family: 'Segoe UI', sans-serif; font-size: 14px; fill: #808080; }
    .label { font-family: 'Segoe UI', sans-serif; font-size: 14px; fill: #d4d4d4; }
    .small { font-family: 'Segoe UI', sans-serif; font-size: 12px; fill: #808080; }
    .code { font-family: 'Fira Code', monospace; font-size: 11px; fill: #d4d4d4; }
    .keyword { font-family: 'Fira Code', monospace; font-size: 11px; fill: #569cd6; }
    .type { font-family: 'Fira Code', monospace; font-size: 12px; fill: #4ec9b0; }
    .string { font-family: 'Fira Code', monospace; font-size: 11px; fill: #ce9178; }
    .comment { font-family: 'Fira Code', monospace; font-size: 11px; fill: #6a9955; }
  </style>
  
  <!-- Background -->
  <rect width="100%" height="100%" fill="#1e1e1e"/>
  
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" class="title">Box&lt;T&gt; - Datos en el Heap</text>
  <text x="450" y="55" text-anchor="middle" class="subtitle">Único dueño con almacenamiento en heap</text>
  
  <!-- Memory Layout Section -->
  <rect x="30" y="75" width="400" height="180" rx="8" fill="#252526" stroke="#3c3c3c"/>
  <text x="230" y="100" text-anchor="middle" class="label" style="font-weight: bold;">Layout de Memoria</text>
  
  <!-- Stack Side -->
  <rect x="50" y="115" width="140" height="120" rx="4" fill="#2d2d2d" stroke="#4ec9b0"/>
  <text x="120" y="135" text-anchor="middle" class="type">STACK</text>
  
  <rect x="60" y="150" width="120" height="30" rx="2" fill="#3c3c3c"/>
  <text x="120" y="170" text-anchor="middle" class="code">b: Box&lt;i32&gt;</text>
  
  <rect x="70" y="190" width="100" height="25" rx="2" fill="#252526" stroke="#569cd6"/>
  <text x="120" y="207" text-anchor="middle" class="small">ptr (8 bytes)</text>
  
  <!-- Arrow -->
  <line x1="170" y1="202" x2="250" y2="175" stroke="#CE422B" stroke-width="2" marker-end="url(#arrowhead2)"/>
  
  <!-- Heap Side -->
  <rect x="260" y="115" width="150" height="120" rx="4" fill="#2d2d2d" stroke="#CE422B"/>
  <text x="335" y="135" text-anchor="middle" class="type">HEAP</text>
  
  <rect x="280" y="155" width="110" height="50" rx="4" fill="#3c3c3c" stroke="#CE422B"/>
  <text x="335" y="185" text-anchor="middle" class="code">42</text>
  <text x="335" y="230" text-anchor="middle" class="small">i32 (4 bytes)</text>
  
  <!-- Recursive Type Section -->
  <rect x="470" y="75" width="400" height="180" rx="8" fill="#252526" stroke="#3c3c3c"/>
  <text x="670" y="100" text-anchor="middle" class="label" style="font-weight: bold;">Tipo Recursivo: Lista Enlazada</text>
  
  <!-- Without Box - Error -->
  <rect x="490" y="115" width="170" height="60" rx="4" fill="#2d2d2d" stroke="#f44747"/>
  <text x="575" y="135" text-anchor="middle" class="small" style="fill: #f44747;">❌ Sin Box</text>
  <text x="575" y="155" text-anchor="middle" class="code">Cons(i32, Lista)</text>
  <text x="575" y="172" text-anchor="middle" class="small" style="fill: #f44747;">Tamaño infinito</text>
  
  <!-- With Box - OK -->
  <rect x="680" y="115" width="170" height="60" rx="4" fill="#2d2d2d" stroke="#4ec9b0"/>
  <text x="765" y="135" text-anchor="middle" class="small" style="fill: #4ec9b0;">✓ Con Box</text>
  <text x="765" y="155" text-anchor="middle" class="code">Cons(i32, Box&lt;Lista&gt;)</text>
  <text x="765" y="172" text-anchor="middle" class="small" style="fill: #4ec9b0;">Tamaño fijo</text>
  
  <!-- Lista Visual -->
  <g transform="translate(490, 185)">
    <rect x="0" y="0" width="50" height="35" rx="4" fill="#3c3c3c" stroke="#569cd6"/>
    <text x="25" y="22" text-anchor="middle" class="code">1</text>
    
    <line x1="50" y1="17" x2="70" y2="17" stroke="#CE422B" stroke-width="2" marker-end="url(#arrowhead2)"/>
    
    <rect x="80" y="0" width="50" height="35" rx="4" fill="#3c3c3c" stroke="#569cd6"/>
    <text x="105" y="22" text-anchor="middle" class="code">2</text>
    
    <line x1="130" y1="17" x2="150" y2="17" stroke="#CE422B" stroke-width="2" marker-end="url(#arrowhead2)"/>
    
    <rect x="160" y="0" width="50" height="35" rx="4" fill="#3c3c3c" stroke="#569cd6"/>
    <text x="185" y="22" text-anchor="middle" class="code">3</text>
    
    <line x1="210" y1="17" x2="230" y2="17" stroke="#CE422B" stroke-width="2" marker-end="url(#arrowhead2)"/>
    
    <rect x="240" y="0" width="50" height="35" rx="4" fill="#3c3c3c" stroke="#808080"/>
    <text x="265" y="22" text-anchor="middle" class="small">Nil</text>
  </g>
  
  <!-- Use Cases -->
  <rect x="30" y="275" width="400" height="105" rx="8" fill="#252526" stroke="#3c3c3c"/>
  <text x="230" y="300" text-anchor="middle" class="label" style="font-weight: bold;">Casos de Uso</text>
  
  <text x="50" y="325" class="code">1. Tipos recursivos (listas, árboles)</text>
  <text x="50" y="345" class="code">2. Trait objects: Box&lt;dyn Trait&gt;</text>
  <text x="50" y="365" class="code">3. Datos grandes (evitar copias)</text>
  
  <!-- Trait Objects -->
  <rect x="470" y="275" width="400" height="105" rx="8" fill="#252526" stroke="#3c3c3c"/>
  <text x="670" y="300" text-anchor="middle" class="label" style="font-weight: bold;">Trait Objects</text>
  
  <text x="490" y="325" class="keyword">let</text>
  <text x="515" y="325" class="code">figuras:</text>
  <text x="570" y="325" class="type">Vec&lt;Box&lt;dyn Dibujable&gt;&gt;</text>
  
  <text x="490" y="350" class="code">  = vec![</text>
  <text x="490" y="370" class="code">    Box::new(Circulo),</text>
  <text x="670" y="370" class="comment">// Diferentes tipos</text>
  
  <!-- Code Example -->
  <rect x="30" y="395" width="840" height="90" rx="8" fill="#252526" stroke="#3c3c3c"/>
  <text x="450" y="420" text-anchor="middle" class="label" style="font-weight: bold;">Ejemplo: Lista Enlazada</text>
  
  <text x="50" y="445" class="keyword">enum</text>
  <text x="85" y="445" class="type">Lista</text>
  <text x="115" y="445" class="code">{ Cons(i32, Box&lt;Lista&gt;), Nil }</text>
  
  <text x="50" y="470" class="keyword">let</text>
  <text x="75" y="470" class="code">lista = Cons(1, Box::new(Cons(2, Box::new(Nil))));</text>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#CE422B"/>
    </marker>
  </defs>
</svg>
