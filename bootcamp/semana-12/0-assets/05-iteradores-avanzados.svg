<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 520">
  <defs>
    <style>
      .title { font-family: 'Segoe UI', sans-serif; font-size: 24px; font-weight: bold; fill: #d4d4d4; }
      .subtitle { font-family: 'Segoe UI', sans-serif; font-size: 16px; fill: #808080; }
      .label { font-family: 'Segoe UI', sans-serif; font-size: 14px; fill: #d4d4d4; }
      .small { font-family: 'Segoe UI', sans-serif; font-size: 12px; fill: #808080; }
      .code { font-family: 'Fira Code', 'Consolas', monospace; font-size: 11px; fill: #d4d4d4; }
      .keyword { fill: #569cd6; }
      .function { fill: #dcdcaa; }
      .string { fill: #ce9178; }
      .number { fill: #b5cea8; }
      .comment { fill: #6a9955; }
      .type { fill: #4ec9b0; }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="100%" height="100%" fill="#1e1e1e"/>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" class="title">⚡ Iteradores Avanzados</text>
  <text x="400" y="58" text-anchor="middle" class="subtitle">Crear iteradores personalizados y patrones avanzados</text>
  
  <!-- Custom Iterator -->
  <rect x="30" y="75" width="350" height="200" rx="8" fill="#252526" stroke="#CE422B" stroke-width="2"/>
  <text x="205" y="100" text-anchor="middle" class="label" style="fill:#CE422B;">Implementar Iterator</text>
  
  <text x="45" y="125" class="code">
    <tspan class="keyword">struct</tspan>
    <tspan class="type"> Contador</tspan>
    <tspan> { actual: </tspan>
    <tspan class="type">u32</tspan>
    <tspan>, max: </tspan>
    <tspan class="type">u32</tspan>
    <tspan> }</tspan>
  </text>
  <text x="45" y="150" class="code">
    <tspan class="keyword">impl</tspan>
    <tspan class="type"> Iterator</tspan>
    <tspan class="keyword"> for</tspan>
    <tspan class="type"> Contador</tspan>
    <tspan> {</tspan>
  </text>
  <text x="60" y="170" class="code">
    <tspan class="keyword">type</tspan>
    <tspan class="type"> Item</tspan>
    <tspan> = </tspan>
    <tspan class="type">u32</tspan>
    <tspan>;</tspan>
  </text>
  <text x="60" y="190" class="code">
    <tspan class="keyword">fn</tspan>
    <tspan class="function"> next</tspan>
    <tspan>(&amp;</tspan>
    <tspan class="keyword">mut self</tspan>
    <tspan>) -> </tspan>
    <tspan class="type">Option</tspan>
    <tspan>&lt;</tspan>
    <tspan class="type">u32</tspan>
    <tspan>&gt; {</tspan>
  </text>
  <text x="75" y="210" class="code">
    <tspan class="keyword">if</tspan>
    <tspan> self.actual &lt; self.max {</tspan>
  </text>
  <text x="90" y="227" class="code">self.actual += <tspan class="number">1</tspan>;</text>
  <text x="90" y="244" class="code">
    <tspan class="type">Some</tspan>
    <tspan>(self.actual)</tspan>
  </text>
  <text x="75" y="261" class="code">} <tspan class="keyword">else</tspan> { <tspan class="type">None</tspan> }</text>
  <text x="45" y="278" class="code">} }</text>
  
  <!-- Usage example -->
  <rect x="420" y="75" width="350" height="200" rx="8" fill="#252526" stroke="#4ec9b0"/>
  <text x="595" y="100" text-anchor="middle" class="label" style="fill:#4ec9b0;">Pipeline de Datos</text>
  
  <text x="435" y="125" class="code">
    <tspan class="keyword">let</tspan>
    <tspan> datos = </tspan>
    <tspan class="keyword">vec!</tspan>
    <tspan>[</tspan>
    <tspan class="string">" hola "</tspan>
    <tspan>, </tspan>
    <tspan class="string">"RUST"</tspan>
    <tspan>];</tspan>
  </text>
  <text x="435" y="155" class="code">
    <tspan class="keyword">let</tspan>
    <tspan> resultado: </tspan>
    <tspan class="type">Vec</tspan>
    <tspan>&lt;</tspan>
    <tspan class="type">String</tspan>
    <tspan>&gt; = datos</tspan>
  </text>
  <text x="450" y="175" class="code">
    <tspan>.</tspan>
    <tspan class="function">iter</tspan>
    <tspan>()</tspan>
  </text>
  <text x="450" y="195" class="code">
    <tspan>.</tspan>
    <tspan class="function">map</tspan>
    <tspan>(|s| s.</tspan>
    <tspan class="function">trim</tspan>
    <tspan>())</tspan>
    <tspan class="comment">       // quitar espacios</tspan>
  </text>
  <text x="450" y="215" class="code">
    <tspan>.</tspan>
    <tspan class="function">filter</tspan>
    <tspan>(|s| !s.</tspan>
    <tspan class="function">is_empty</tspan>
    <tspan>())</tspan>
    <tspan class="comment"> // no vacíos</tspan>
  </text>
  <text x="450" y="235" class="code">
    <tspan>.</tspan>
    <tspan class="function">map</tspan>
    <tspan>(|s| s.</tspan>
    <tspan class="function">to_lowercase</tspan>
    <tspan>())</tspan>
    <tspan class="comment"> // minúsculas</tspan>
  </text>
  <text x="450" y="255" class="code">
    <tspan>.</tspan>
    <tspan class="function">collect</tspan>
    <tspan>();</tspan>
  </text>
  <text x="435" y="278" class="code">
    <tspan class="comment">// resultado = ["hola", "rust"]</tspan>
  </text>
  
  <!-- Advanced adapters -->
  <rect x="30" y="290" width="355" height="210" rx="8" fill="#252526" stroke="#569cd6"/>
  <text x="207" y="315" text-anchor="middle" class="label" style="fill:#569cd6;">Adaptadores Avanzados</text>
  
  <text x="45" y="345" class="code">
    <tspan class="comment">// flat_map: map + flatten</tspan>
  </text>
  <text x="45" y="365" class="code">
    <tspan class="keyword">vec!</tspan>
    <tspan>[</tspan>
    <tspan class="string">"a b"</tspan>
    <tspan>, </tspan>
    <tspan class="string">"c d"</tspan>
    <tspan>].</tspan>
    <tspan class="function">iter</tspan>
    <tspan>()</tspan>
  </text>
  <text x="60" y="385" class="code">
    <tspan>.</tspan>
    <tspan class="function">flat_map</tspan>
    <tspan>(|s| s.</tspan>
    <tspan class="function">split_whitespace</tspan>
    <tspan>())</tspan>
  </text>
  <text x="60" y="405" class="code">
    <tspan class="comment">// → ["a", "b", "c", "d"]</tspan>
  </text>
  
  <text x="45" y="435" class="code">
    <tspan class="comment">// windows: ventanas deslizantes</tspan>
  </text>
  <text x="45" y="455" class="code">
    <tspan>[</tspan>
    <tspan class="number">1</tspan>
    <tspan>,</tspan>
    <tspan class="number">2</tspan>
    <tspan>,</tspan>
    <tspan class="number">3</tspan>
    <tspan>,</tspan>
    <tspan class="number">4</tspan>
    <tspan>].</tspan>
    <tspan class="function">windows</tspan>
    <tspan>(</tspan>
    <tspan class="number">2</tspan>
    <tspan>)</tspan>
  </text>
  <text x="60" y="475" class="code">
    <tspan class="comment">// → [1,2], [2,3], [3,4]</tspan>
  </text>
  
  <!-- Infinite iterators -->
  <rect x="415" y="290" width="355" height="210" rx="8" fill="#252526" stroke="#dcdcaa"/>
  <text x="592" y="315" text-anchor="middle" class="label" style="fill:#dcdcaa;">Iteradores Infinitos</text>
  
  <text x="430" y="345" class="code">
    <tspan class="comment">// repeat: repetir valor</tspan>
  </text>
  <text x="430" y="365" class="code">
    <tspan class="type">std::iter</tspan>
    <tspan>::</tspan>
    <tspan class="function">repeat</tspan>
    <tspan>(</tspan>
    <tspan class="number">1</tspan>
    <tspan>).</tspan>
    <tspan class="function">take</tspan>
    <tspan>(</tspan>
    <tspan class="number">5</tspan>
    <tspan>)</tspan>
  </text>
  <text x="445" y="385" class="code">
    <tspan class="comment">// → [1, 1, 1, 1, 1]</tspan>
  </text>
  
  <text x="430" y="415" class="code">
    <tspan class="comment">// successors: secuencia con generador</tspan>
  </text>
  <text x="430" y="435" class="code">
    <tspan class="function">successors</tspan>
    <tspan>(</tspan>
    <tspan class="type">Some</tspan>
    <tspan>(</tspan>
    <tspan class="number">1</tspan>
    <tspan>), |n| n.</tspan>
    <tspan class="function">checked_mul</tspan>
    <tspan>(</tspan>
    <tspan class="number">2</tspan>
    <tspan>))</tspan>
  </text>
  <text x="445" y="455" class="code">
    <tspan>.</tspan>
    <tspan class="function">take</tspan>
    <tspan>(</tspan>
    <tspan class="number">5</tspan>
    <tspan>)</tspan>
  </text>
  <text x="445" y="475" class="code">
    <tspan class="comment">// → [1, 2, 4, 8, 16] (potencias de 2)</tspan>
  </text>
</svg>
