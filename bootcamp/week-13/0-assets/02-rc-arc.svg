<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <style>
    .title { font-family: 'Segoe UI', sans-serif; font-size: 20px; fill: #d4d4d4; font-weight: bold; }
    .subtitle { font-family: 'Segoe UI', sans-serif; font-size: 14px; fill: #808080; }
    .label { font-family: 'Segoe UI', sans-serif; font-size: 12px; fill: #d4d4d4; }
    .code { font-family: 'Fira Code', monospace; font-size: 11px; fill: #d4d4d4; }
    .keyword { fill: #569cd6; }
    .type { fill: #4ec9b0; }
    .number { fill: #b5cea8; }
    .accent { fill: #CE422B; }
    .string { fill: #ce9178; }
  </style>
  
  <rect width="100%" height="100%" fill="#1e1e1e"/>
  
  <!-- Título -->
  <text x="400" y="35" text-anchor="middle" class="title">Rc&lt;T&gt; y Arc&lt;T&gt; - Reference Counting</text>
  <text x="400" y="55" text-anchor="middle" class="subtitle">Múltiples propietarios del mismo dato</text>
  
  <!-- Variables -->
  <text x="80" y="95" class="label" style="font-weight:bold;">VARIABLES</text>
  
  <rect x="40" y="110" width="80" height="35" rx="4" fill="#2d2d2d" stroke="#569cd6"/>
  <text x="80" y="132" text-anchor="middle" class="code">a</text>
  
  <rect x="40" y="160" width="80" height="35" rx="4" fill="#2d2d2d" stroke="#569cd6"/>
  <text x="80" y="182" text-anchor="middle" class="code">b</text>
  
  <rect x="40" y="210" width="80" height="35" rx="4" fill="#2d2d2d" stroke="#569cd6"/>
  <text x="80" y="232" text-anchor="middle" class="code">c</text>
  
  <!-- Rc Metadata -->
  <rect x="200" y="120" width="140" height="80" rx="6" fill="#252526" stroke="#4ec9b0" stroke-width="2"/>
  <text x="270" y="145" text-anchor="middle" class="label" style="font-weight:bold;">Rc Metadata</text>
  <line x1="200" y1="155" x2="340" y2="155" stroke="#3c3c3c"/>
  <text x="220" y="175" class="code">strong: <tspan class="number">3</tspan></text>
  <text x="220" y="192" class="code">weak: <tspan class="number">0</tspan></text>
  
  <!-- Data -->
  <rect x="420" y="140" width="140" height="50" rx="6" fill="#2d2d2d" stroke="#CE422B" stroke-width="2"/>
  <text x="490" y="170" text-anchor="middle" class="string">"hello"</text>
  
  <!-- Flechas de variables a metadata -->
  <path d="M120 127 L190 150" stroke="#569cd6" stroke-width="2" fill="none" marker-end="url(#arrowBlue)"/>
  <path d="M120 177 L190 165" stroke="#569cd6" stroke-width="2" fill="none" marker-end="url(#arrowBlue)"/>
  <path d="M120 227 L190 180" stroke="#569cd6" stroke-width="2" fill="none" marker-end="url(#arrowBlue)"/>
  
  <!-- Flecha de metadata a data -->
  <path d="M340 160 L410 160" stroke="#CE422B" stroke-width="2" fill="none" marker-end="url(#arrowRed)"/>
  
  <defs>
    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#569cd6"/>
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#CE422B"/>
    </marker>
  </defs>
  
  <!-- Código ejemplo -->
  <rect x="580" y="100" width="190" height="110" rx="6" fill="#252526" stroke="#3c3c3c"/>
  <text x="600" y="125" class="code"><tspan class="keyword">let</tspan> a = <tspan class="type">Rc</tspan>::new(s);</text>
  <text x="600" y="145" class="code"><tspan class="keyword">let</tspan> b = <tspan class="type">Rc</tspan>::clone(&amp;a);</text>
  <text x="600" y="165" class="code"><tspan class="keyword">let</tspan> c = <tspan class="type">Rc</tspan>::clone(&amp;a);</text>
  <text x="600" y="195" class="code" style="fill:#6a9955;">// strong_count = 3</text>
  
  <!-- Comparación Rc vs Arc -->
  <text x="400" y="270" text-anchor="middle" class="label" style="font-weight:bold;">COMPARACIÓN: Rc vs Arc</text>
  
  <!-- Rc box -->
  <rect x="80" y="290" width="280" height="130" rx="8" fill="#252526" stroke="#4ec9b0"/>
  <text x="220" y="315" text-anchor="middle" class="type" style="font-size:14px;">Rc&lt;T&gt;</text>
  <line x1="80" y1="325" x2="360" y2="325" stroke="#3c3c3c"/>
  <text x="100" y="348" class="label">✓ Single-threaded</text>
  <text x="100" y="368" class="label">✓ Más rápido (no atomic)</text>
  <text x="100" y="388" class="label">✗ !Send, !Sync</text>
  <text x="100" y="408" class="label">→ uso::rc::Rc</text>
  
  <!-- Arc box -->
  <rect x="440" y="290" width="280" height="130" rx="8" fill="#252526" stroke="#CE422B"/>
  <text x="580" y="315" text-anchor="middle" class="accent" style="font-size:14px;">Arc&lt;T&gt;</text>
  <line x1="440" y1="325" x2="720" y2="325" stroke="#3c3c3c"/>
  <text x="460" y="348" class="label">✓ Multi-threaded</text>
  <text x="460" y="368" class="label">✗ Más lento (atomic ops)</text>
  <text x="460" y="388" class="label">✓ Send + Sync</text>
  <text x="460" y="408" class="label">→ sync::Arc</text>
  
  <!-- Nota inferior -->
  <rect x="40" y="440" width="720" height="45" rx="6" fill="#2d2d2d" stroke="#3c3c3c"/>
  <text x="60" y="462" class="code" style="fill:#6a9955;">// Cuando strong_count llega a 0, los datos se liberan automáticamente</text>
  <text x="60" y="478" class="code" style="fill:#808080;">// ⚠️ Cuidado: ciclos de referencia causan memory leaks</text>
</svg>
